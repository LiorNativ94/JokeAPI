<!DOCTYPE html>
<html>

<head>
  <title>Lisper</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Gloria+Hallelujah&family=Titan+One&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="styles/main.css">

</head>

<body>
  <h1>Wanna Hear a joke?</h1>
  <div class="card">
    <% if (locals.type === "single") { %>
      <p id = "joke">
        <%= joke %>
      </p>
    <%} else { %>
      <p id = "setup">
        <%= setup %>
      </p>
      <p id = "delivery">
        <%= delivery %>
      </p>
    <%} %>
  </div>
  <p class="category" id = "category">
    Joke type: <%= category %>
  </p>
  <!-- <script>
    // When mouse enters the .card div, fetch the same page to get a new secret
    document.querySelector(".card").addEventListener("mouseenter", () => {
      // Fetch the root route to get a new secret
      fetch("/")
        .then(response => response.text()) // Get the HTML text from the server
        .then(data => {
          // Create a temporary HTML element to extract the new secret and user
          const parser = new DOMParser();
          const doc = parser.parseFromString(data, "text/html");

          // Extract the updated secret and user from the parsed HTML
          const newSecret = doc.querySelector("#secret").textContent;
          const newUser = doc.querySelector("#user").textContent;

          // Update the page with the new secret and user
          document.getElementById("secret").textContent = newSecret;
          document.getElementById("user").textContent = newUser;
        })
        .catch(error => {
          console.error("Error fetching new secret:", error);
        });
    });
  </script> -->
</body>

</html>